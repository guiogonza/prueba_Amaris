(this["webpackJsonpfund-management"]=this["webpackJsonpfund-management"]||[]).push([[0],{38:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),s=a.n(r),i=(a(37),a(38),a(4)),o=a.n(i),l=a(64),j=a(68),d=a(69),b=a(65),h=a(1);var u=()=>{const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(""),[r,s]=Object(n.useState)(""),[i,u]=Object(n.useState)([]),[O,x]=Object(n.useState)([]),[g,p]=Object(n.useState)(!0),[C,m]=Object(n.useState)("");Object(n.useEffect)((()=>{(async()=>{try{const e=await o.a.get("http://localhost:5000/clients");u(e.data)}catch(e){console.error("Error fetching clients:",e)}})(),(async()=>{try{const e=await o.a.get("http://localhost:5000/funds");x(e.data)}catch(e){console.error("Error fetching funds:",e)}})()}),[]);return Object(h.jsxs)(l.a,{children:[Object(h.jsx)("h2",{children:"Suscribirse a un Fondo"}),C&&Object(h.jsx)(j.a,{variant:"danger",children:C}),Object(h.jsxs)(d.a,{children:[Object(h.jsxs)(d.a.Group,{children:[Object(h.jsx)(d.a.Label,{children:"Cliente"}),Object(h.jsxs)(d.a.Control,{as:"select",value:e,onChange:e=>t(e.target.value),children:[Object(h.jsx)("option",{value:"",children:"Seleccione un cliente"}),i.map((e=>Object(h.jsx)("option",{value:e.ClienteId,children:e.Name},e.ClienteId)))]})]}),Object(h.jsxs)(d.a.Group,{children:[Object(h.jsx)(d.a.Label,{children:"Fondo"}),Object(h.jsxs)(d.a.Control,{as:"select",value:a,onChange:e=>c(e.target.value),children:[Object(h.jsx)("option",{value:"",children:"Seleccione un fondo"}),O.map((e=>Object(h.jsxs)("option",{value:e.Id,children:[e.Nombre," - Monto M\xednimo: ",e.MontoMinimo]},e.Id)))]})]}),Object(h.jsxs)(d.a.Group,{children:[Object(h.jsx)(d.a.Label,{children:"Amount"}),Object(h.jsx)(d.a.Control,{type:"text",value:r,onChange:e=>{const t=e.target.value;/^\d*$/.test(t)&&s(t)}})]}),Object(h.jsx)(b.a,{variant:"primary",onClick:async()=>{try{const n=await o.a.post("http://localhost:5000/subscribe",{client_id:e,fund_id:a,amount:r});alert("Suscripci\xf3n exitosa: ".concat(n.data.transaction_id)),m(""),t(""),c(""),s("")}catch(n){400===n.response.status?(m(n.response.data.message),p(!1)):alert(n.response.data.message)}},children:"Suscribirse"})]})]})};var O=()=>{const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(""),[r,s]=Object(n.useState)([]),[i,j]=Object(n.useState)([]),[u,O]=Object(n.useState)([]),[x,g]=Object(n.useState)([]);Object(n.useEffect)((()=>{(async()=>{try{const e=await o.a.get("http://localhost:5000/clients");s(e.data)}catch(e){console.error("Error fetching clients:",e)}})(),(async()=>{try{const e=await o.a.get("http://localhost:5000/funds");g(e.data)}catch(e){console.error("Error fetching funds:",e)}})(),(async()=>{try{const e=await o.a.get("http://localhost:5000/all_transactions"),t=[...new Set(e.data.map((e=>e.ClientID)))];j(t)}catch(e){console.error("Error fetching clients with transactions:",e)}})()}),[]);const p=e=>{const t=x.find((t=>t.Id===e));return t?t.Nombre:"Desconocido"};return Object(h.jsxs)(l.a,{children:[Object(h.jsx)("h2",{children:"Cancelar Suscripci\xf3n de un Fondo"}),Object(h.jsxs)(d.a,{children:[Object(h.jsxs)(d.a.Group,{children:[Object(h.jsx)(d.a.Label,{children:"Cliente"}),Object(h.jsxs)(d.a.Control,{as:"select",value:e,onChange:e=>{const a=e.target.value;t(a),(async e=>{try{const t=await o.a.get("http://localhost:5000/client_funds?client_id=".concat(e));O(t.data)}catch(t){console.error("Error fetching client funds:",t)}})(a)},children:[Object(h.jsx)("option",{value:"",children:"Seleccione un cliente"}),r.filter((e=>i.includes(e.ClienteId))).map((e=>Object(h.jsx)("option",{value:e.ClienteId,children:e.Name},e.ClienteId)))]})]}),Object(h.jsxs)(d.a.Group,{children:[Object(h.jsx)(d.a.Label,{children:"Fondo"}),Object(h.jsxs)(d.a.Control,{as:"select",value:a,onChange:e=>c(e.target.value),disabled:!e,children:[Object(h.jsx)("option",{value:"",children:"Seleccione un fondo"}),u.map((e=>Object(h.jsx)("option",{value:e.FundID,children:p(e.FundID)},e.FundID)))]})]}),Object(h.jsx)(b.a,{variant:"danger",onClick:async()=>{try{const t=await o.a.post("http://localhost:5000/unsubscribe",{client_id:e,fund_id:a});alert("Cancelaci\xf3n exitosa: ".concat(t.data.transaction_id)),O(u.filter((e=>e.FundID!==a))),c("")}catch(t){alert(t.response.data.message)}},disabled:!a,children:"Cancelar Suscripci\xf3n"})]})]})},x=a(66),g=a(70),p=a(5),C=a.n(p);C.a.setLevel("debug");var m=()=>{const[e,t]=Object(n.useState)([]),[a,c]=Object(n.useState)([]),[r,s]=Object(n.useState)(""),[i,u]=Object(n.useState)("");Object(n.useEffect)((()=>{(async()=>{try{const e=await o.a.get("http://localhost:5000/all_transactions");C.a.debug("Transactions data:",e.data),t(e.data),c(e.data)}catch(e){C.a.error("Error fetching transactions:",e)}})()}),[]);return Object(h.jsxs)(l.a,{children:[Object(h.jsxs)("h2",{children:["Transacciones ",Object(h.jsx)(x.a,{variant:"secondary",children:a.length})]}),i&&Object(h.jsx)(j.a,{variant:"info",children:i}),Object(h.jsxs)(d.a.Group,{children:[Object(h.jsx)(d.a.Label,{children:"Buscar por Cliente ID"}),Object(h.jsx)(d.a.Control,{type:"text",placeholder:"Ingrese el Cliente ID",value:r,onChange:t=>{const a=t.target.value;s(a),(t=>{if(C.a.debug("Filtering transactions for Client ID:",t),""===t.trim())c(e);else{const a=e.filter((e=>e.ClientID.includes(t)));C.a.debug("Filtered Transactions:",a),c(a)}})(a)}})]}),Object(h.jsx)(g.a,{children:a.map((a=>Object(h.jsxs)(g.a.Item,{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"Cliente ID:"})," ",a.ClientID," ",Object(h.jsx)("br",{}),Object(h.jsx)("strong",{children:"Tipo:"})," ",a.Type," ",Object(h.jsx)("br",{}),Object(h.jsx)("strong",{children:"Fondo ID:"})," ",a.FundID," ",Object(h.jsx)("br",{}),Object(h.jsx)("strong",{children:"Nombre del Fondo:"})," ",a.FundName," ",Object(h.jsx)("br",{}),Object(h.jsx)("strong",{children:"Monto:"})," ",a.Amount]}),Object(h.jsx)(b.a,{variant:"danger",onClick:()=>(async a=>{try{await o.a.delete("http://localhost:5000/transaction/".concat(a));const n=e.filter((e=>e.TransaccionId!==a));t(n),c(n),u("Transacci\xf3n eliminada con \xe9xito.")}catch(n){C.a.error("Error deleting transaction:",n),u("Error eliminando la transacci\xf3n.")}})(a.TransaccionId),style:{marginTop:"10px"},children:"Eliminar Transacci\xf3n"})]},a.TransaccionId)))})]})};C.a.setLevel("debug");var v=()=>{const[e,t]=Object(n.useState)([]);return Object(n.useEffect)((()=>{(async()=>{try{const e=await o.a.get("http://localhost:5000/funds");C.a.debug("Funds data:",e.data),t(e.data)}catch(e){C.a.error("Error fetching funds:",e)}})()}),[]),Object(h.jsxs)(l.a,{children:[Object(h.jsx)("h2",{children:"Fondos Disponibles"}),Object(h.jsx)(g.a,{children:e.map((e=>Object(h.jsxs)(g.a.Item,{children:[Object(h.jsx)("strong",{children:e.Nombre}),Object(h.jsx)("br",{}),"ID del Fondo: ",e.Id," ",Object(h.jsx)("br",{}),"Monto M\xednimo: ",e.MontoMinimo," ",Object(h.jsx)("br",{}),"Categor\xeda: ",e.Categoria]},e.Id)))})]})};C.a.setLevel("debug");var f=()=>{const[e,t]=Object(n.useState)([]),[a,c]=Object(n.useState)(""),[r,s]=Object(n.useState)("");Object(n.useEffect)((()=>{(async()=>{try{const e=await o.a.get("http://localhost:5000/clients");C.a.debug("Clients data:",e.data),t(e.data)}catch(e){C.a.error("Error fetching clients:",e)}})()}),[]);const i=e.filter((e=>e.Name.toLowerCase().includes(r.toLowerCase())));return Object(h.jsxs)(l.a,{children:[Object(h.jsxs)("h2",{children:["Clientes ",Object(h.jsx)(x.a,{variant:"secondary",children:i.length})]}),a&&Object(h.jsx)(j.a,{variant:"info",children:a}),Object(h.jsx)(d.a,{children:Object(h.jsx)(d.a.Group,{controlId:"formSearch",children:Object(h.jsx)(d.a.Control,{type:"text",placeholder:"Buscar por Nombre",value:r,onChange:e=>s(e.target.value),style:{marginBottom:"20px"}})})}),Object(h.jsx)(g.a,{children:i.map((a=>Object(h.jsxs)(g.a.Item,{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:"ID:"})," ",a.ClienteId,Object(h.jsx)("br",{}),Object(h.jsx)("strong",{children:"Nombre:"})," ",a.Name,Object(h.jsx)("br",{}),Object(h.jsx)("strong",{children:"Email:"})," ",a.Email,Object(h.jsx)("br",{}),Object(h.jsx)("strong",{children:"Tel\xe9fono:"})," ",a.Phone]}),Object(h.jsx)(b.a,{variant:"danger",onClick:()=>(async a=>{try{await o.a.delete("http://localhost:5000/client/".concat(a)),t(e.filter((e=>e.ClienteId!==a))),c("Cliente eliminado con \xe9xito.")}catch(n){C.a.error("Error deleting client:",n),c("Error eliminando el cliente.")}})(a.ClienteId),style:{marginTop:"10px"},children:"Eliminar Cliente"})]},a.ClienteId)))})]})};var y=e=>{let{onClientAdded:t}=e;const[a,c]=Object(n.useState)(""),[r,s]=Object(n.useState)(""),[i,u]=Object(n.useState)(""),[O,x]=Object(n.useState)("");return Object(h.jsxs)(l.a,{children:[Object(h.jsx)("h2",{children:"Agregar Cliente"}),O&&Object(h.jsx)(j.a,{variant:"info",children:O}),Object(h.jsxs)(d.a,{children:[Object(h.jsxs)(d.a.Group,{children:[Object(h.jsx)(d.a.Label,{children:"Nombre"}),Object(h.jsx)(d.a.Control,{type:"text",value:a,onChange:e=>c(e.target.value)})]}),Object(h.jsxs)(d.a.Group,{children:[Object(h.jsx)(d.a.Label,{children:"Email"}),Object(h.jsx)(d.a.Control,{type:"email",value:r,onChange:e=>s(e.target.value)})]}),Object(h.jsxs)(d.a.Group,{children:[Object(h.jsx)(d.a.Label,{children:"Tel\xe9fono"}),Object(h.jsx)(d.a.Control,{type:"text",value:i,onChange:e=>u(e.target.value)})]}),Object(h.jsx)(b.a,{variant:"primary",onClick:async()=>{try{const e=await o.a.post("http://localhost:5000/client",{name:a,email:r,phone:i});x("Cliente creado con \xe9xito."),t(e.data.client_id,a,r,i),c(""),s(""),u("")}catch(e){x("Error creando el cliente.")}},children:"Agregar Cliente"})]})]})},S=a(67);var I=()=>{const[e,t]=Object(n.useState)("home"),a=(e,t,a,n)=>{};return Object(h.jsxs)(l.a,{children:[Object(h.jsx)("h1",{children:"Gesti\xf3n de Fondos"}),Object(h.jsxs)(S.a,{className:"mb-3",children:[Object(h.jsx)(b.a,{variant:"primary",onClick:()=>t("subscribe"),children:"Suscribirse a un Fondo"}),Object(h.jsx)(b.a,{variant:"danger",onClick:()=>t("unsubscribe"),children:"Cancelar Suscripci\xf3n"}),Object(h.jsx)(b.a,{variant:"info",onClick:()=>t("transactions"),children:"Ver Transacciones"}),Object(h.jsx)(b.a,{variant:"secondary",onClick:()=>t("funds"),children:"Ver Fondos Disponibles"}),Object(h.jsx)(b.a,{variant:"success",onClick:()=>t("clients"),children:"Ver Clientes"}),Object(h.jsx)(b.a,{variant:"warning",onClick:()=>t("addClient"),children:"Agregar Cliente"})]}),(()=>{switch(e){case"subscribe":return Object(h.jsx)(u,{});case"unsubscribe":return Object(h.jsx)(O,{});case"transactions":return Object(h.jsx)(m,{});case"funds":return Object(h.jsx)(v,{});case"clients":return Object(h.jsx)(f,{});case"addClient":return Object(h.jsx)(y,{onClientAdded:a});default:return Object(h.jsx)("div",{children:"Por favor, selecciona una opci\xf3n"})}})()]})};var E=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(I,{})})};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.f8270855.chunk.js.map