{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Container,ListGroup,Button,Alert,Badge,Form}from'react-bootstrap';import log from'loglevel';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";log.setLevel('debug');const ClientsList=()=>{const[clients,setClients]=useState([]);const[message,setMessage]=useState('');const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{const fetchClients=async()=>{try{const response=await axios.get('http://localhost:5000/clients');log.debug('Clients data:',response.data);// Verifica la estructura de los datos aquí\nsetClients(response.data);}catch(error){log.error('Error fetching clients:',error);}};fetchClients();},[]);const deleteClient=async clientId=>{try{await axios.delete(\"http://localhost:5000/client/\".concat(clientId));setClients(clients.filter(client=>client.ClienteId!==clientId));setMessage('Cliente eliminado con éxito.');}catch(error){log.error('Error deleting client:',error);setMessage('Error eliminando el cliente.');}};const filteredClients=clients.filter(client=>client.Name.toLowerCase().includes(searchTerm.toLowerCase()));return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Clientes \",/*#__PURE__*/_jsx(Badge,{variant:\"secondary\",children:filteredClients.length})]}),message&&/*#__PURE__*/_jsx(Alert,{variant:\"info\",children:message}),/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(Form.Group,{controlId:\"formSearch\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Buscar por Nombre\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),style:{marginBottom:'20px'}})})}),/*#__PURE__*/_jsx(ListGroup,{children:filteredClients.map(client=>/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",client.ClienteId,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Nombre:\"}),\" \",client.Name,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",client.Email,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Tel\\xE9fono:\"}),\" \",client.Phone]}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>deleteClient(client.ClienteId),style:{marginTop:'10px'},children:\"Eliminar Cliente\"})]},client.ClienteId))})]});};export default ClientsList;","map":{"version":3,"names":["React","useState","useEffect","axios","Container","ListGroup","Button","Alert","Badge","Form","log","jsx","_jsx","jsxs","_jsxs","setLevel","ClientsList","clients","setClients","message","setMessage","searchTerm","setSearchTerm","fetchClients","response","get","debug","data","error","deleteClient","clientId","delete","concat","filter","client","ClienteId","filteredClients","Name","toLowerCase","includes","children","variant","length","Group","controlId","Control","type","placeholder","value","onChange","e","target","style","marginBottom","map","Item","Email","Phone","onClick","marginTop"],"sources":["C:/Users/guiog/Documents/amaris/fund_app/frontend/src/components/ClientsList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Container, ListGroup, Button, Alert, Badge, Form } from 'react-bootstrap';\r\nimport log from 'loglevel';\r\n\r\nlog.setLevel('debug');\r\n\r\nconst ClientsList = () => {\r\n  const [clients, setClients] = useState([]);\r\n  const [message, setMessage] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchClients = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:5000/clients');\r\n        log.debug('Clients data:', response.data); // Verifica la estructura de los datos aquí\r\n        setClients(response.data);\r\n      } catch (error) {\r\n        log.error('Error fetching clients:', error);\r\n      }\r\n    };\r\n\r\n    fetchClients();\r\n  }, []);\r\n\r\n  const deleteClient = async (clientId) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/client/${clientId}`);\r\n      setClients(clients.filter(client => client.ClienteId !== clientId));\r\n      setMessage('Cliente eliminado con éxito.');\r\n    } catch (error) {\r\n      log.error('Error deleting client:', error);\r\n      setMessage('Error eliminando el cliente.');\r\n    }\r\n  };\r\n\r\n  const filteredClients = clients.filter(client =>\r\n    client.Name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <h2>Clientes <Badge variant=\"secondary\">{filteredClients.length}</Badge></h2>\r\n      {message && <Alert variant=\"info\">{message}</Alert>}\r\n      <Form>\r\n        <Form.Group controlId=\"formSearch\">\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Buscar por Nombre\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            style={{ marginBottom: '20px' }}\r\n          />\r\n        </Form.Group>\r\n      </Form>\r\n      <ListGroup>\r\n        {filteredClients.map((client) => (\r\n          <ListGroup.Item key={client.ClienteId}>\r\n            <div>\r\n              <strong>ID:</strong> {client.ClienteId}<br />\r\n              <strong>Nombre:</strong> {client.Name}<br />\r\n              <strong>Email:</strong> {client.Email}<br />\r\n              <strong>Teléfono:</strong> {client.Phone}\r\n            </div>\r\n            <Button\r\n              variant=\"danger\"\r\n              onClick={() => deleteClient(client.ClienteId)}\r\n              style={{ marginTop: '10px' }}\r\n            >\r\n              Eliminar Cliente\r\n            </Button>\r\n          </ListGroup.Item>\r\n        ))}\r\n      </ListGroup>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ClientsList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}